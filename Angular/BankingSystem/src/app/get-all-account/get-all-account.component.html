<div class="container mt-4">
    <h2>All Accounts</h2>

    <!-- Add Account Button (Opens Modal) -->
    <button class="btn btn-success rounded-pill mb-3" data-bs-toggle="modal" data-bs-target="#addAccountModal">
        Add Account
    </button>

    <!-- Accounts Table -->
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Account ID</th>
                <th>Account Name</th>
                <th>Account Type</th>
                <th>Account Number</th>
                <th>Balance</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let account of accounts">
                <td>{{ account.id }}</td>
                <td>{{ account.name }}</td>
                <td>{{ account.type }}</td>
                <td>{{account.accountnumber}}</td>
                <td>{{ account.balance | currency:'INR':'symbol' }}</td>

                <td>
                    <button class="btn btn-success btn-sm me-2" (click)="addTransaction(account.id)"
                        data-bs-toggle="modal" data-bs-target="#addTransactionModal">
                        Add Transaction
                    </button>
                
                    <button class="btn btn-info btn-sm me-2" data-bs-toggle="modal" data-bs-target="#addTransferModal"
                        (click)="transferTransaction(account.id)">
                        Transfer Money
                    </button>
                
                    <button class="btn btn-primary btn-sm me-2" (click)="fetchtransaction(account.id)">
                        View Transaction
                    </button>
                
                    <!-- <button class="btn btn-warning btn-sm me-2">
                        Edit
                    </button> -->
                
                    <button class="btn btn-danger btn-sm" (click)="deleteAccount(account.id)">
                        Delete
                    </button>
                </td>
                
            </tr>
        </tbody>
    </table>

    <!-- Add Account Modal -->
    <div class="modal fade" id="addAccountModal" tabindex="-1" aria-labelledby="addAccountModalLabel"
        aria-hidden="true">
        <div class="modal-dialog custom-modal-height modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addAccountModalLabel">Add Account</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <app-add-account></app-add-account>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addTransactionModal" tabindex="-1" aria-labelledby="addTransactionModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addTransactionModalLabel">Add Transaction</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <app-add-transaction></app-add-transaction>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addTransferModal" tabindex="-1" aria-labelledby="addTransferModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addTransferModalLabel">Transfer Money</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <app-transfer></app-transfer>
                </div>
            </div>
        </div>
    </div>
</div>